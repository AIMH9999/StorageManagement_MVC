@model StorageManagement_MVC.ViewModels.AccountingVM

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Accounting Dashboard";
    Layout = "~/Views/Shared/_AccountingLayout.cshtml";
}

<style>
    .table-container {
        max-height: 400px;
        overflow-y: auto;
    }
</style>

<div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <div class="col-sm-12 col-xl-6">
            <div class="bg-light rounded h-100 p-4">
                <h6 class="mb-4">Product list</h6>
                <form asp-controller="Accounting" asp-action="Index" class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Search" name="ProductListSearchString" />
                </form>
                <div class="table-container">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">Name</th>
                                <th scope="col">Category</th>
                                <th scope="col">Price input</th>
                                <th scope="col">Price output</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.Products)
                            {
                                <tr>
                                    <th scope="row">@Html.DisplayFor(modelItem => item.Id)</th>
                                    <td>@Html.DisplayFor(modelItem => item.Name)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Category)</td>
                                    <td>@Html.DisplayFor(modelItem => item.priceInput)VNĐ</td>
                                    <td>@Html.DisplayFor(modelItem => item.priceOutput)VNĐ</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-xl-6">
            <div class="bg-light rounded h-100 p-4">
                <h6 class="mb-4">Product inventory</h6>
                <form asp-controller="Accounting" asp-action="Index" class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Search" name="ProductInventorySearchString" />
                </form>
                <div class="table-container">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">Name</th>
                                <th scope="col">Category</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Price input</th>
                                <th scope="col">Price output</th>
                                <th scope="col">Total price</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.ProductInventory)
                            {
                                <tr>
                                    <th scope="row">@Html.DisplayFor(modelItem => item.Id)</th>
                                    <td>@Html.DisplayFor(modelItem => item.Name)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Category)</td>
                                    <td>@Html.DisplayFor(modelItem => item.Quantity)</td>
                                    <td>@Html.DisplayFor(modelItem => item.priceInput)VNĐ</td>
                                    <td>@Html.DisplayFor(modelItem => item.priceOutput)VNĐ</td>
                                    <td>@Html.DisplayFor(modelItem => item.totalPrice)VNĐ</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-xl-6">
            <div class="bg-light rounded h-100 p-4">
                <h6 class="mb-4">All receipts</h6>
                <form asp-controller="Accounting" asp-action="Index" class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Search" name="ReceiptsSearchString" />
                </form>
                <div class="table-container">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">User name</th>
                                <th scope="col">Total product quantity</th>
                                <th scope="col">Total price</th>
                                <th scope="col">Created at</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.Receipts)
                            {
                                <tr>
                                    <th scope="row">@Html.DisplayFor(modelItem => item.Id)</th>
                                    <td>@Html.DisplayFor(modelItem => item.userName)</td>
                                    <td>@Html.DisplayFor(modelItem => item.totalProductQuantity)</td>
                                    <td>@Html.DisplayFor(modelItem => item.totalPrice)VNĐ</td>
                                    <td>@Html.DisplayFor(modelItem => item.createdAt)</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-xl-6">
            <div class="bg-light rounded h-100 p-4">
                <h6 class="mb-4">Receipt detail</h6>
                <form asp-controller="Accounting" asp-action="Index" class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Search" name="ReceiptDetailSearchString" />
                </form>
                <div class="table-container">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">ID</th>
                                <th scope="col">Receipt</th>
                                <th scope="col">ID product</th>
                                <th scope="col">Product name</th>
                                <th scope="col">Product category</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Total price</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.ReceiptDetails)
                            {
                                <tr>
                                    <th scope="row">@Html.DisplayFor(modelItem => item.Id)</th>
                                    <td>@Html.DisplayFor(modelItem => item.idReceipt)</td>
                                    <td>@Html.DisplayFor(modelItem => item.idProduct)</td>
                                    <td>@Html.DisplayFor(modelItem => item.productName)</td>
                                    <td>@Html.DisplayFor(modelItem => item.productCategory)</td>
                                    <td>@Html.DisplayFor(modelItem => item.quantity)</td>
                                    <td>@Html.DisplayFor(modelItem => item.totalPrice)VNĐ</td>
                                </tr>
                            }                           
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
